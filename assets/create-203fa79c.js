import{P as u,H as P,r as A,Q as E,o as f,f as h,i as s,c as a,T as g,I as c,U as R,l as e,J as T,j as G}from"./index-31daaf16.js";import{u as V}from"./member-e189fca8.js";import{u as _}from"./coach-ae0d7c27.js";import{u as v}from"./goal-5d1a3b70.js";import{a as m,b as j,V as w}from"./VRow-281e71e9.js";import{V as F}from"./VForm-27224658.js";import{V as i}from"./VTextField-fa88338a.js";import{V as y}from"./VAutocomplete-1c70452f.js";import"./VGrid-f9b7f30a.js";import"./forwardRefs-5fcb3655.js";import"./VSelect-8cde19f0.js";import"./VMenu-5921d0fa.js";import"./VOverlay-4d5b6a7d.js";import"./VChip-c0dd9028.js";const H=G("h2",{class:"mb-0"}," Add Member ",-1),ae={__name:"create",setup(I){const{user:n}=u(P()),{loading:t,error:l}=u(V()),{createMember:C}=V(),{coaches:S}=u(_()),{fetchCoaches:U,loading:x}=_(),{goals:M}=u(v()),{fetchGoals:N,loading:B}=v(),o=A({email:"",password:"",name:"",phone_number:"",weight:"",height:"",coach_id:"",goal_id:""}),p=()=>{o.value={email:"",password:"",name:"",phone_number:"",weight:"",height:"",coach_id:"",goal_id:""}},k=()=>{n.value.role==="coach"&&(o.value.coach_id=n.value.profile.id),C(o.value)};return E(()=>{document.title="Add Member",U(),N(),p(),l.value=null}),(J,d)=>(f(),h(w,null,{default:s(()=>[a(m,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:s(()=>[H,a(g,{to:{name:"members"},color:"primary"},{default:s(()=>[c(" Back ")]),_:1})]),_:1}),a(m,{cols:"12"},{default:s(()=>[a(j,null,{default:s(()=>[a(F,{onSubmit:R(k,["prevent"])},{default:s(()=>[a(w,null,{default:s(()=>{var b;return[a(m,{cols:"12",md:"6"},{default:s(()=>[a(i,{modelValue:o.value.email,"onUpdate:modelValue":d[0]||(d[0]=r=>o.value.email=r),label:"Email",placeholder:"Email","error-messages":e(l)&&e(l).email?[e(l).email]:[],disabled:e(t),loading:e(t)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(i,{modelValue:o.value.password,"onUpdate:modelValue":d[1]||(d[1]=r=>o.value.password=r),label:"Password",placeholder:"Password","error-messages":e(l)&&e(l).password?[e(l).password]:[],disabled:e(t),loading:e(t)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(i,{modelValue:o.value.name,"onUpdate:modelValue":d[2]||(d[2]=r=>o.value.name=r),label:"Name",placeholder:"Member Name","error-messages":e(l)&&e(l).name?[e(l).name]:[],disabled:e(t),loading:e(t)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(i,{modelValue:o.value.phone_number,"onUpdate:modelValue":d[3]||(d[3]=r=>o.value.phone_number=r),label:"Phone Number",placeholder:"0812233456","error-messages":e(l)&&e(l).phone_number?[e(l).phone_number]:[],disabled:e(t),loading:e(t)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(i,{modelValue:o.value.weight,"onUpdate:modelValue":d[4]||(d[4]=r=>o.value.weight=r),label:"Weight",placeholder:"Enter numbers only","error-messages":e(l)&&e(l).weight?[e(l).weight]:[],disabled:e(t),loading:e(t)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),a(m,{cols:"12",md:"6"},{default:s(()=>[a(i,{modelValue:o.value.height,"onUpdate:modelValue":d[5]||(d[5]=r=>o.value.height=r),label:"Height",placeholder:"Enter numbers only","error-messages":e(l)&&e(l).height?[e(l).height]:[],disabled:e(t),loading:e(t)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),((b=e(n))==null?void 0:b.role)!=="coach"?(f(),h(m,{key:0,cols:"12",md:"6"},{default:s(()=>[a(y,{modelValue:o.value.coach_id,"onUpdate:modelValue":d[6]||(d[6]=r=>o.value.coach_id=r),items:e(S),label:"Select Coach","item-title":"name","item-value":"id","error-messages":e(l)&&e(l).coach_id?[e(l).coach_id]:[],loading:e(x)},null,8,["modelValue","items","error-messages","loading"])]),_:1})):T("",!0),a(m,{cols:"12",md:"6"},{default:s(()=>[a(y,{modelValue:o.value.goal_id,"onUpdate:modelValue":d[7]||(d[7]=r=>o.value.goal_id=r),items:e(M),label:"Select Program","item-title":"name","item-value":"id","error-messages":e(l)&&e(l).goal_id?[e(l).goal_id]:[],loading:e(B)},null,8,["modelValue","items","error-messages","loading"])]),_:1}),a(m,{cols:"12",class:"d-flex gap-4"},{default:s(()=>[a(g,{type:"submit",loading:e(t),color:"primary"},{default:s(()=>[c(" Save ")]),_:1},8,["loading"]),a(g,{color:"secondary",variant:"tonal",onClick:p},{default:s(()=>[c(" Reset ")]),_:1})]),_:1})]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ae as default};
