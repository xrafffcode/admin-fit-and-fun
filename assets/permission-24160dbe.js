import{W as a,X as r,Y as t,Z as i}from"./index-31daaf16.js";const n=a({id:"permission",state:()=>({permissions:[],loading:!1,error:null,success:null}),actions:{async fetchPermissions(){try{this.loading=!0;const e=await r.get("/permission");this.permissions=e.data.data}catch(e){this.handleError(e)}finally{this.loading=!1}},async fetchPermission(e){try{return this.loading=!0,(await r.get(`/permission/${e}`)).data.data}catch(s){this.handleError(s)}finally{this.loading=!1}},async createPermission(e){try{this.loading=!0;const s=await r.post("/permission",e);this.success=s.data.message,t.push({name:"permissions"})}catch(s){this.error=i(s)}finally{this.loading=!1}},async updatePermission(e){try{this.loading=!0;const s=await r.post(`/permission/${e.id}`,{...e,_method:"PUT"});this.success=s.data.message,t.push({name:"permissions"})}catch(s){console.error(s),this.error=i(s)}finally{this.loading=!1}},async deletePermission(e){try{this.loading=!0;const s=await r.delete(`/permission/${e}`);this.success=s.data.message,this.fetchPermissions()}catch(s){this.error=i(s)}finally{this.loading=!1}}}});export{n as u};
