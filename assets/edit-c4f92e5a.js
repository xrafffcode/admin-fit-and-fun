import{d as E,P as n,r as j,Q as I,o as D,f as F,i as o,c as a,T as u,I as c,U as H,l as e,j as Q}from"./index-31daaf16.js";import{u as g}from"./attendance-fa885a46.js";import{u as f}from"./member-e189fca8.js";import{u as k}from"./program-45586e84.js";import{u as V}from"./shake-7cb492a7.js";import{a as m,b as Y,V as b}from"./VRow-281e71e9.js";import{V as q}from"./VForm-27224658.js";import{V as d}from"./VAutocomplete-1c70452f.js";import"./VGrid-f9b7f30a.js";import"./VTextField-fa88338a.js";import"./forwardRefs-5fcb3655.js";import"./VSelect-8cde19f0.js";import"./VMenu-5921d0fa.js";import"./VOverlay-4d5b6a7d.js";import"./VChip-c0dd9028.js";const z=Q("h2",{class:"mb-0"}," Edit Attendance ",-1),ie={__name:"edit",setup(G){const v=E(),{loading:S,error:t}=n(g()),{fetchAttendance:h,updateAttendance:y}=g(),{members:x}=n(f()),{fetchMembers:A,loading:B}=f(),{programs:M}=n(k()),{fetchPrograms:U,loading:w}=k(),{shakes:C}=n(V()),{fetchShakes:P,loading:R}=V(),p=v.params.id,l=j({id:p,member_id:"",program_id:"",shake_id:"",tea:"",parking_ticket:""}),_=async()=>{try{const s=await h(p);l.value={id:s.id,member_id:s.member_id,program_id:s.program_id,shake_id:s.shake_id,tea:s.tea,parking_ticket:s.parking_ticket}}catch(s){console.error(s)}};I(()=>{document.title="Edit Attendance",A(),U(),P(),_()});const T=()=>{y(l.value)},N=()=>{_()};return(s,r)=>(D(),F(b,null,{default:o(()=>[a(m,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:o(()=>[z,a(u,{to:{name:"attendances"},color:"primary"},{default:o(()=>[c(" Back ")]),_:1})]),_:1}),a(m,{cols:"12"},{default:o(()=>[a(Y,null,{default:o(()=>[a(q,{onSubmit:H(T,["prevent"])},{default:o(()=>[a(b,null,{default:o(()=>[a(m,{cols:"12",md:"12"},{default:o(()=>[a(d,{modelValue:l.value.member_id,"onUpdate:modelValue":r[0]||(r[0]=i=>l.value.member_id=i),items:e(x),label:"Select Member","item-title":"name","item-value":"id","error-messages":e(t)&&e(t).member_id?[e(t).member_id]:[],loading:e(B)},null,8,["modelValue","items","error-messages","loading"])]),_:1}),a(m,{cols:"12",md:"12"},{default:o(()=>[a(d,{modelValue:l.value.program_id,"onUpdate:modelValue":r[1]||(r[1]=i=>l.value.program_id=i),items:e(M),label:"Select Exercise","item-title":"name","item-value":"id","error-messages":e(t)&&e(t).program_id?[e(t).program_id]:[],loading:e(w)},null,8,["modelValue","items","error-messages","loading"])]),_:1}),a(m,{cols:"12",md:"12"},{default:o(()=>[a(d,{modelValue:l.value.shake_id,"onUpdate:modelValue":r[2]||(r[2]=i=>l.value.shake_id=i),items:e(C),label:"Select Shake","item-title":"name","item-value":"id","error-messages":e(t)&&e(t).shake_id?[e(t).shake_id]:[],loading:e(R)},null,8,["modelValue","items","error-messages","loading"])]),_:1}),a(m,{cols:"12",md:"12"},{default:o(()=>[a(d,{modelValue:l.value.tea,"onUpdate:modelValue":r[3]||(r[3]=i=>l.value.tea=i),items:["Hot","Cold"],label:"Select Tea","item-title":"name","item-value":"id","error-messages":e(t)&&e(t).tea?[e(t).tea]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(m,{cols:"12",md:"12"},{default:o(()=>[a(d,{modelValue:l.value.parking_ticket,"onUpdate:modelValue":r[4]||(r[4]=i=>l.value.parking_ticket=i),items:["Yes","No"],label:"Select Parking Ticket","item-title":"name","item-value":"id","error-messages":e(t)&&e(t).parking_ticket?[e(t).parking_ticket]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(m,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[a(u,{type:"submit",loading:e(S),color:"primary"},{default:o(()=>[c(" Save ")]),_:1},8,["loading"]),a(u,{color:"secondary",variant:"tonal",onClick:N},{default:o(()=>[c(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ie as default};
