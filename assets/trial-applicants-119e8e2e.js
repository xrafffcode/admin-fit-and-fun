import{W as S,X as c,Z as d,P as U,r as E,Q as M,e as P,o as m,K as R,l as i,f as g,i as e,c as t,I as f,t as $,T as y,s as j,J as V,_ as F,M as I,j as v,$ as L,L as z}from"./index-31daaf16.js";import{c as x}from"./permissionHelper-2b543738.js";import{b as A,d as J,e as K,a as h,V as Q}from"./VRow-281e71e9.js";import{V as W}from"./VDialog-3bd3c4ef.js";import{V as X}from"./VTextField-fa88338a.js";import"./VGrid-f9b7f30a.js";import"./VOverlay-4d5b6a7d.js";import"./forwardRefs-5fcb3655.js";const T=S({id:"trial-applicant",state:()=>({trialApplicants:[],loading:!1,error:null,success:null}),actions:{async fetchTrialApplicants(){try{this.loading=!0;const l=await c.get("/trial-applicant");this.trialApplicants=l.data.data}catch(l){this.error=d(l)}finally{this.loading=!1}},async createTrialApplicant(l){try{this.loading=!0;const a=await c.post("/register/trial",l);console.log(a),this.success=a.data.message}catch(a){this.error=d(a)}finally{this.loading=!1}},async deleteTrialApplicant(l){try{this.loading=!0;const a=await c.delete(`/trial-applicant/${l}`);this.success=a.data.message}catch(a){this.error=d(a)}finally{this.loading=!1}},async absentTrialApplicant(l){try{this.loading=!0;const a=await c.post(`/trial-applicant/${l}/absent`);this.success=a.data.message}catch(a){this.error=d(a)}finally{this.loading=!1}}}});const Z=v("h2",{class:"mb-0"}," Trial Applicants List ",-1),q=["onUpdate:modelValue","disabled","onChange"],sa={__name:"trial-applicants",setup(l){const a=[{text:"Date Created",value:"created_at"},{text:"Name",value:"name",width:200},{text:"Phone Number",value:"phone",width:200},{text:"Coach",value:"coach.name"},{text:"Program",value:"goal.name"},{text:"Tea",value:"tea"},{text:"Attended",value:"attended"},{text:"Action",value:"action"}],{trialApplicants:b,loading:_,success:o}=U(T()),{fetchTrialApplicants:p,deleteTrialApplicant:C,absentTrialApplicant:k}=T();p();async function w(r){confirm("Delete this trial applicant?")&&(await C(r.id),p())}const u=E("");async function D(r){return confirm("Apakah anda yakin mengubah status kehadiran?")&&(await k(r.id),p()),!1}return M(()=>{document.title="Trial Applicants"}),(r,n)=>{const B=P("EasyDataTable");return m(),R(z,null,[i(o)?(m(),g(W,{key:0,modelValue:i(o),"onUpdate:modelValue":n[1]||(n[1]=s=>j(o)?o.value=s:null),"max-width":"400"},{default:e(()=>[t(A,null,{default:e(()=>[t(J,null,{default:e(()=>[f($(i(o)),1)]),_:1}),t(K,null,{default:e(()=>[t(y,{color:"primary",text:"",onClick:n[0]||(n[0]=()=>o.value=null)},{default:e(()=>[f(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):V("",!0),t(Q,null,{default:e(()=>[t(h,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[Z]),_:1}),t(h,{cols:"12"},{default:e(()=>[t(X,{modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=s=>u.value=s),label:"Search Trial Applicant",placeholder:"Search Trial Applicant",clearable:"",loading:i(_),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),t(h,{cols:"12"},{default:e(()=>[t(A,null,{default:e(()=>[t(B,{headers:a,items:i(b),loading:i(_),"search-value":u.value,"buttons-pagination":"","show-index":"",class:"data-table"},F({"item-action":e(s=>[i(x)("trial-applicant-delete")?(m(),g(y,{key:0,color:"error",size:"small",class:"m-5",onClick:()=>w(s)},{default:e(()=>[f(" Delete ")]),_:2},1032,["onClick"])):V("",!0)]),_:2},[i(x)("trial-applicant-absent")?{name:"item-attended",fn:e(s=>[I(v("input",{"onUpdate:modelValue":N=>s.is_attended=N,type:"checkbox",disabled:s.is_attended,onChange:()=>D(s)},null,40,q),[[L,s.is_attended]])]),key:"0"}:void 0]),1032,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{sa as default};
