import{d as j,P as R,r as U,Q as w,o as f,f as p,i as l,c as e,T as d,I as u,U as B,J as N,l as o,j as S}from"./index-31daaf16.js";import{u as _}from"./testimonial-97118f7c.js";import{V as k,h as F}from"./VFileInput-60a75874.js";import{a as n,b as I,V}from"./VRow-281e71e9.js";import{V as J}from"./VForm-27224658.js";import{a as M}from"./VGrid-f9b7f30a.js";import{V as E}from"./VTextField-fa88338a.js";import{V as b}from"./VTextarea-42a87be7.js";import"./forwardRefs-5fcb3655.js";import"./VChip-c0dd9028.js";const L=S("h2",{class:"mb-0"}," Edit Testimonial ",-1),X={__name:"edit",setup(A){const v=j(),{loading:r,error:s}=R(_()),{fetchTestimonial:h,updateTestimonial:T}=_(),c=v.params.id,a=U({id:c,image:null,image_name:"",image_url:"",name:"",job:"",testimonial:""}),g=async()=>{try{const t=await h(c);a.value={id:t.id,image:null,image_name:"",image_url:t.image_url,name:t.name,job:t.job,testimonial:t.testimonial}}catch(t){console.error(t)}};w(()=>{document.title="Edit Testimonial",g()});const y=()=>{T(a.value)},x=t=>{F(t,a.value,"image"),a.value.image_url=URL.createObjectURL(t.target.files[0])},C=()=>{g()};return(t,m)=>(f(),p(V,null,{default:l(()=>[e(n,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:l(()=>[L,e(d,{to:{name:"testimonials"},color:"primary"},{default:l(()=>[u(" Back ")]),_:1})]),_:1}),e(n,{cols:"12"},{default:l(()=>[e(I,null,{default:l(()=>[e(J,{onSubmit:B(y,["prevent"])},{default:l(()=>[e(V,null,{default:l(()=>[e(n,{cols:"12",md:"12"},{default:l(()=>[a.value.image_url?(f(),p(M,{key:0,src:a.value.image_url,width:"100",height:"auto",class:"mb-4"},null,8,["src"])):N("",!0),e(k,{modelValue:a.value.image_name,"onUpdate:modelValue":m[0]||(m[0]=i=>a.value.image_name=i),label:"Avatar",placeholder:"Choose an avatar",accept:"image/*",onChange:x},null,8,["modelValue"])]),_:1}),e(n,{cols:"12",md:"12"},{default:l(()=>[e(E,{modelValue:a.value.name,"onUpdate:modelValue":m[1]||(m[1]=i=>a.value.name=i),label:"Name",placeholder:"Sender Name","error-messages":o(s)&&o(s).name?[o(s).name]:[],disabled:o(r),loading:o(r)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),e(n,{cols:"12",md:"12"},{default:l(()=>[e(b,{modelValue:a.value.job,"onUpdate:modelValue":m[2]||(m[2]=i=>a.value.job=i),label:"Job",placeholder:"Sender Job","error-messages":o(s)&&o(s).name?[o(s).name]:[],disabled:o(r),loading:o(r)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),e(n,{cols:"12",md:"12"},{default:l(()=>[e(b,{modelValue:a.value.testimonial,"onUpdate:modelValue":m[3]||(m[3]=i=>a.value.testimonial=i),label:"Testimoni",placeholder:"Testimoni Message","error-messages":o(s)&&o(s).name?[o(s).name]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(n,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(d,{type:"submit",loading:o(r),color:"primary"},{default:l(()=>[u(" Save ")]),_:1},8,["loading"]),e(d,{type:"reset",color:"secondary",variant:"tonal",onClick:C},{default:l(()=>[u(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{X as default};
