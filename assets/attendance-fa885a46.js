import{W as r,X as a,Y as n,Z as s}from"./index-31daaf16.js";const o=r({id:"attendance",state:()=>({attendances:[],loading:!1,error:null,success:null}),actions:{async fetchAttendances(e){try{this.loading=!0;const t=await a.get("/attendance",{params:e});this.attendances=t.data.data}catch(t){this.handleError(t)}finally{this.loading=!1}},async fetchAttendance(e){try{return this.loading=!0,(await a.get(`/attendance/${e}`)).data.data}catch(t){this.handleError(t)}finally{this.loading=!1}},async createAttendance(e){try{this.loading=!0;const t=await a.post("/attendance",e);this.success=t.data.message,n.push({name:"attendances"})}catch(t){this.error=s(t)}finally{this.loading=!1}},async updateAttendance(e){try{this.loading=!0;const t=await a.post(`/attendance/${e.id}`,{...e,_method:"PUT"});this.success=t.data.message,n.push({name:"attendances"})}catch(t){console.error(t),this.error=s(t)}finally{this.loading=!1}},async deleteAttendance(e){try{this.loading=!0;const t=await a.delete(`/attendance/${e}`);this.success=t.data.message}catch(t){this.error=s(t)}finally{this.loading=!1}},async absentAttendance(e){try{this.loading=!0;const t=await a.post(`/attendance/${e}/absent`);this.success=t.data.message}catch(t){this.error=s(t)}finally{this.loading=!1}}}});export{o as u};
