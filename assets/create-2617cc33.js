import{P as d,r as b,Q as x,o as y,f as h,i as o,c as e,T as i,I as n,U as B,l as s,j as C}from"./index-31daaf16.js";import{u as p}from"./role-3ad887d8.js";import{u as c}from"./permission-24160dbe.js";import{a as t,b as N,V as f}from"./VRow-281e71e9.js";import{V as S}from"./VForm-27224658.js";import{V as k}from"./VTextField-fa88338a.js";import{V as w}from"./VAutocomplete-1c70452f.js";import"./VGrid-f9b7f30a.js";import"./forwardRefs-5fcb3655.js";import"./VSelect-8cde19f0.js";import"./VMenu-5921d0fa.js";import"./VOverlay-4d5b6a7d.js";import"./VChip-c0dd9028.js";const P=C("h2",{class:"mb-0"}," Add Role ",-1),K={__name:"create",setup(T){const{loading:_,error:a}=d(p()),{createRole:V}=p(),{permissions:v}=d(c()),{fetchPermissions:g}=c(),l=b({name:"",permissions:[]}),u=()=>{l.value={name:"",permissions:[]}},R=()=>{V(l.value)};return x(()=>{document.title="Add Role",g(),u(),a.value=null}),(A,r)=>(y(),h(f,null,{default:o(()=>[e(t,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:o(()=>[P,e(i,{to:{name:"roles"},color:"primary"},{default:o(()=>[n(" Back ")]),_:1})]),_:1}),e(t,{cols:"12"},{default:o(()=>[e(N,null,{default:o(()=>[e(S,{onSubmit:B(R,["prevent"])},{default:o(()=>[e(f,null,{default:o(()=>[e(t,{cols:"12",md:"12"},{default:o(()=>[e(k,{modelValue:l.value.name,"onUpdate:modelValue":r[0]||(r[0]=m=>l.value.name=m),label:"Name",placeholder:"Role Name","error-messages":s(a)&&s(a).name?[s(a).name]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(t,{cols:"12",md:"12"},{default:o(()=>[e(w,{modelValue:l.value.permissions,"onUpdate:modelValue":r[1]||(r[1]=m=>l.value.permissions=m),items:s(v),label:"Choose Permissions",multiple:"","item-title":"name","item-value":"id","error-messages":s(a)&&s(a).permissions?[s(a).permissions]:[]},null,8,["modelValue","items","error-messages"])]),_:1}),e(t,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[e(i,{type:"submit",loading:s(_),color:"primary"},{default:o(()=>[n(" Save ")]),_:1},8,["loading"]),e(i,{color:"secondary",variant:"tonal",onClick:u},{default:o(()=>[n(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{K as default};
