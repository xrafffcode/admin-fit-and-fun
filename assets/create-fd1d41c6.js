import{H as j,P as n,r as H,Q as D,o as c,f as p,i as l,c as t,T as _,I as u,l as e,t as E,J as f,U as F,j as I}from"./index-31daaf16.js";import{u as k}from"./attendance-fa885a46.js";import{u as V}from"./member-e189fca8.js";import{u as b}from"./program-45586e84.js";import{u as v}from"./shake-7cb492a7.js";import{a as m,b as J,V as S}from"./VRow-281e71e9.js";import{V as Q}from"./VAlert-6d252168.js";import{V as Y}from"./VForm-27224658.js";import{V as d}from"./VAutocomplete-1c70452f.js";import"./VGrid-f9b7f30a.js";import"./VTextField-fa88338a.js";import"./forwardRefs-5fcb3655.js";import"./VSelect-8cde19f0.js";import"./VMenu-5921d0fa.js";import"./VOverlay-4d5b6a7d.js";import"./VChip-c0dd9028.js";const q=I("h2",{class:"mb-0"}," Add Attendance ",-1),de={__name:"create",setup(z){const{user:i}=j(),{loading:h,error:a}=n(k()),{createAttendance:y}=k(),{members:A}=n(V()),{fetchMembers:x,loading:B}=V(),{programs:C}=n(b()),{fetchPrograms:M,loading:U}=b(),{shakes:N}=n(v()),{fetchShakes:P,loading:T}=v(),o=H({member_id:"",program_id:"",shake_id:"",tea:"",parking_ticket:""}),g=()=>{o.value={member_id:"",program_id:"",shake_id:"",tea:"",parking_ticket:""}},w=()=>{y(o.value)};return D(()=>{document.title="Add Attendance",x(),M(),P(),g(),a.value=null,(i==null?void 0:i.role)==="member"&&(o.value.member_id=i==null?void 0:i.member_id)}),(G,r)=>(c(),p(S,null,{default:l(()=>[t(m,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:l(()=>[q,t(_,{to:{name:"attendances"},color:"primary"},{default:l(()=>[u(" Back ")]),_:1})]),_:1}),t(m,{cols:"12"},{default:l(()=>[e(a)?(c(),p(Q,{key:0,type:"error",dismissible:"",class:"mb-4"},{default:l(()=>[u(E(e(a)),1)]),_:1})):f("",!0),t(J,null,{default:l(()=>[t(Y,{onSubmit:F(w,["prevent"])},{default:l(()=>[t(S,null,{default:l(()=>[t(m,{cols:"12",md:"12"},{default:l(()=>{var s;return[((s=e(i))==null?void 0:s.role)!=="member"?(c(),p(d,{key:0,modelValue:o.value.member_id,"onUpdate:modelValue":r[0]||(r[0]=R=>o.value.member_id=R),items:e(A),label:"Select Member","item-title":"name","item-value":"id","error-messages":e(a)&&e(a).member_id?[e(a).member_id]:[],loading:e(B)},null,8,["modelValue","items","error-messages","loading"])):f("",!0)]}),_:1}),t(m,{cols:"12",md:"12"},{default:l(()=>[t(d,{modelValue:o.value.program_id,"onUpdate:modelValue":r[1]||(r[1]=s=>o.value.program_id=s),items:e(C),label:"Select Exercise","item-title":"title","item-value":"id","error-messages":e(a)&&e(a).program_id?[e(a).program_id]:[],loading:e(U)},null,8,["modelValue","items","error-messages","loading"])]),_:1}),t(m,{cols:"12",md:"12"},{default:l(()=>[t(d,{modelValue:o.value.shake_id,"onUpdate:modelValue":r[2]||(r[2]=s=>o.value.shake_id=s),items:e(N),label:"Select Shake","item-title":"name","item-value":"id","error-messages":e(a)&&e(a).shake_id?[e(a).shake_id]:[],loading:e(T)},null,8,["modelValue","items","error-messages","loading"])]),_:1}),t(m,{cols:"12",md:"12"},{default:l(()=>[t(d,{modelValue:o.value.tea,"onUpdate:modelValue":r[3]||(r[3]=s=>o.value.tea=s),items:["Hot","Cold"],label:"Select Tea","item-title":"name","item-value":"id","error-messages":e(a)&&e(a).tea?[e(a).tea]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"12"},{default:l(()=>[t(d,{modelValue:o.value.parking_ticket,"onUpdate:modelValue":r[4]||(r[4]=s=>o.value.parking_ticket=s),items:["Yes","No"],label:"Select Parking Ticket","item-title":"name","item-value":"id","error-messages":e(a)&&e(a).parking_ticket?[e(a).parking_ticket]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[t(_,{type:"submit",loading:e(h),color:"primary"},{default:l(()=>[u(" Save ")]),_:1},8,["loading"]),t(_,{color:"secondary",variant:"tonal",onClick:g},{default:l(()=>[u(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{de as default};
