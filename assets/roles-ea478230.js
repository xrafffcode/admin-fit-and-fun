import{u as y}from"./role-3ad887d8.js";import{c}from"./permissionHelper-2b543738.js";import{P as w,r as D,Q as T,e as B,o as s,K as f,l as o,f as i,i as e,c as a,I as n,t as v,T as d,s as N,J as m,L as A,j as E}from"./index-31daaf16.js";import{b as x,d as P,e as S,a as p,V as j}from"./VRow-281e71e9.js";import{V as z}from"./VDialog-3bd3c4ef.js";import{V as F}from"./VTextField-fa88338a.js";import"./VGrid-f9b7f30a.js";import"./VOverlay-4d5b6a7d.js";import"./forwardRefs-5fcb3655.js";const L=E("h2",{class:"mb-0"}," Roles List ",-1),U={key:0},I={key:1},Y={__name:"roles",setup(J){const g=[{text:"Name",value:"name"},{text:"Permissions",value:"permissions"},{text:"Action",value:"operation",width:300}],{roles:k,loading:_,success:r}=w(y()),{fetchRoles:V,deleteRole:R}=y();V();async function C(h){confirm("Delete this role?")&&(await R(h.id),V())}const u=D("");return T(()=>{document.title="Roles"}),(h,t)=>{const b=B("EasyDataTable");return s(),f(A,null,[o(r)?(s(),i(z,{key:0,modelValue:o(r),"onUpdate:modelValue":t[1]||(t[1]=l=>N(r)?r.value=l:null),"max-width":"400"},{default:e(()=>[a(x,null,{default:e(()=>[a(P,null,{default:e(()=>[n(v(o(r)),1)]),_:1}),a(S,null,{default:e(()=>[a(d,{color:"primary",text:"",onClick:t[0]||(t[0]=()=>r.value=null)},{default:e(()=>[n(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):m("",!0),a(j,null,{default:e(()=>[a(p,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[L,o(c)("role-create")?(s(),i(d,{key:0,to:{name:"role-create"},color:"primary"},{default:e(()=>[n(" Add Role ")]),_:1})):m("",!0)]),_:1}),a(p,{cols:"12"},{default:e(()=>[a(F,{modelValue:u.value,"onUpdate:modelValue":t[2]||(t[2]=l=>u.value=l),label:"Search Role",placeholder:"Search Role",clearable:"",loading:o(_),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(p,{cols:"12"},{default:e(()=>[a(x,null,{default:e(()=>[a(b,{headers:g,items:o(k),loading:o(_),"search-value":u.value,"buttons-pagination":"","show-index":"",class:"data-table"},{"item-permissions":e(l=>[l.permissions.length===0?(s(),f("span",U," No Permissions Available ")):(s(),f("span",I,v(l.permissions.length)+" Permissions ",1))]),"item-operation":e(l=>[o(c)("role-edit")?(s(),i(d,{key:0,to:{name:"role-edit",params:{id:l.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[n(" Edit ")]),_:2},1032,["to"])):m("",!0),o(c)("role-delete")?(s(),i(d,{key:1,color:"error",size:"small",class:"m-5",onClick:()=>C(l)},{default:e(()=>[n(" Delete ")]),_:2},1032,["onClick"])):m("",!0)]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{Y as default};
