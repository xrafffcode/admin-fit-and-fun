import{u as V}from"./member-e189fca8.js";import{c}from"./permissionHelper-2b543738.js";import{f as M}from"./formatters-9852ea6e.js";import{P as D,r as T,Q as w,e as B,o as m,K as N,l as t,f as n,i as e,c as a,I as s,t as h,T as i,s as E,J as u,L as R,j as S}from"./index-31daaf16.js";import{b as x,d as A,e as P,a as f,V as j}from"./VRow-281e71e9.js";import{V as z}from"./VDialog-3bd3c4ef.js";import{V as F}from"./VTextField-fa88338a.js";import"./VGrid-f9b7f30a.js";import"./VOverlay-4d5b6a7d.js";import"./forwardRefs-5fcb3655.js";const L=S("h2",{class:"mb-0"}," Members List ",-1),Y={__name:"members",setup(U){const v=[{text:"Name",value:"name"},{text:"Email",value:"user.email"},{text:"Phone Number",value:"phone_number"},{text:"Weight",value:"weight"},{text:"Height",value:"height"},{text:"Coach",value:"coach.name"},{text:"Program",value:"goal.name"},{text:"Date Registered",value:"created_at"},{text:"Action",value:"operation",sortable:!1}],{members:g,loading:p,success:r}=D(V()),{fetchMembers:b,deleteMember:y}=V();b();async function C(_){confirm("Delete this member?")&&(await y(_.id),b())}const d=T("");return w(()=>{document.title="Members"}),(_,o)=>{const k=B("EasyDataTable");return m(),N(R,null,[t(r)?(m(),n(z,{key:0,modelValue:t(r),"onUpdate:modelValue":o[1]||(o[1]=l=>E(r)?r.value=l:null),"max-width":"400"},{default:e(()=>[a(x,null,{default:e(()=>[a(A,null,{default:e(()=>[s(h(t(r)),1)]),_:1}),a(P,null,{default:e(()=>[a(i,{color:"primary",text:"",onClick:o[0]||(o[0]=()=>r.value=null)},{default:e(()=>[s(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):u("",!0),a(j,null,{default:e(()=>[a(f,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[L,t(c)("member-create")?(m(),n(i,{key:0,to:{name:"member-create"},color:"primary"},{default:e(()=>[s(" Add Member ")]),_:1})):u("",!0)]),_:1}),a(f,{cols:"12"},{default:e(()=>[a(F,{modelValue:d.value,"onUpdate:modelValue":o[2]||(o[2]=l=>d.value=l),label:"Search Member",placeholder:"Search Member",clearable:"",loading:t(p),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(f,{cols:"12"},{default:e(()=>[a(x,null,{default:e(()=>[a(k,{headers:v,items:t(g),loading:t(p),"search-value":d.value,"buttons-pagination":"","show-index":"",class:"data-table"},{"item-created_at":e(l=>[s(h(t(M)(l.created_at)),1)]),"item-operation":e(l=>[t(c)("member-edit")?(m(),n(i,{key:0,to:{name:"member-edit",params:{id:l.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[s(" Edit ")]),_:2},1032,["to"])):u("",!0),t(c)("member-delete")?(m(),n(i,{key:1,color:"error",size:"small",class:"m-5",onClick:()=>C(l)},{default:e(()=>[s(" Delete ")]),_:2},1032,["onClick"])):u("",!0)]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{Y as default};
