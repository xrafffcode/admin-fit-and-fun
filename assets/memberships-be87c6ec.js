import{u as V}from"./membership-1a132632.js";import{c}from"./permissionHelper-2b543738.js";import{P as M,r as k,Q as w,e as T,o as r,K as D,l as t,f as m,i as e,c as a,I as i,t as B,T as n,s as S,J as d,L as E,j as N}from"./index-31daaf16.js";import{b as _,d as R,e as A,a as p,V as j}from"./VRow-281e71e9.js";import{V as z}from"./VDialog-3bd3c4ef.js";import{V as F}from"./VTextField-fa88338a.js";import"./VGrid-f9b7f30a.js";import"./VOverlay-4d5b6a7d.js";import"./forwardRefs-5fcb3655.js";const L=N("h2",{class:"mb-0"}," Memberships List ",-1),W={__name:"memberships",setup(U){const x=[{text:"Member",value:"member.name"},{text:"Type",value:"type"},{text:"Remaining Sessions",value:"remaining_sessions",width:150},{text:"Action",value:"operation",width:300}],{memberships:y,loading:f,success:l}=M(V()),{fetchMemberships:h,deleteMembership:v}=V();h();async function g(b){confirm("Delete this membership?")&&(await v(b.id),h())}const u=k("");return w(()=>{document.title="Memberships"}),(b,s)=>{const C=T("EasyDataTable");return r(),D(E,null,[t(l)?(r(),m(z,{key:0,modelValue:t(l),"onUpdate:modelValue":s[1]||(s[1]=o=>S(l)?l.value=o:null),"max-width":"400"},{default:e(()=>[a(_,null,{default:e(()=>[a(R,null,{default:e(()=>[i(B(t(l)),1)]),_:1}),a(A,null,{default:e(()=>[a(n,{color:"primary",text:"",onClick:s[0]||(s[0]=()=>l.value=null)},{default:e(()=>[i(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):d("",!0),a(j,null,{default:e(()=>[a(p,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[L,t(c)("membership-create")?(r(),m(n,{key:0,to:{name:"membership-create"},color:"primary"},{default:e(()=>[i(" Add Membership ")]),_:1})):d("",!0)]),_:1}),a(p,{cols:"12"},{default:e(()=>[a(F,{modelValue:u.value,"onUpdate:modelValue":s[2]||(s[2]=o=>u.value=o),label:"Search Membership",placeholder:"Search Membership",clearable:"",loading:t(f),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(p,{cols:"12"},{default:e(()=>[a(_,null,{default:e(()=>[a(C,{headers:x,items:t(y),loading:t(f),"search-value":u.value,"buttons-pagination":"","show-index":"",class:"data-table"},{"item-operation":e(o=>[t(c)("membership-edit")?(r(),m(n,{key:0,to:{name:"membership-edit",params:{id:o.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[i(" Edit ")]),_:2},1032,["to"])):d("",!0),t(c)("membership-delete")?(r(),m(n,{key:1,color:"error",size:"small",class:"m-5",onClick:()=>g(o)},{default:e(()=>[i(" Delete ")]),_:2},1032,["onClick"])):d("",!0)]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{W as default};
