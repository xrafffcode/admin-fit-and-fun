import{d as h,P as p,r as k,Q as q,o as B,f as E,i as s,c as l,T as i,I as f,U as S,l as e,j as C}from"./index-31daaf16.js";import{u as b}from"./member-progress-b93a2fd9.js";import{u as _}from"./member-e189fca8.js";import{a as d,b as R,V as c}from"./VRow-281e71e9.js";import{V as T}from"./VForm-27224658.js";import{V as N}from"./VSelect-8cde19f0.js";import{V as u}from"./VTextField-fa88338a.js";import{V as j}from"./VTextarea-42a87be7.js";import"./VGrid-f9b7f30a.js";import"./forwardRefs-5fcb3655.js";import"./VMenu-5921d0fa.js";import"./VOverlay-4d5b6a7d.js";import"./VChip-c0dd9028.js";const D=C("h2",{class:"mb-0"}," Member Progress Edit ",-1),$={__name:"edit",setup(I){const V=h(),{loading:y,error:a}=p(b()),{fetchMemberProgres:v,updateMemberProgress:M}=b(),{members:w}=p(_()),{fetchMembers:x,loading:F}=_(),n=V.params.id,r=k({id:n,member_id:"",date:"",weight:"",body_fat:"",muscle_mass:"",cell_age:"",fat:"",note:""}),g=async()=>{try{const m=await v(n);r.value={id:n,member_id:m.member.id,date:m.date,weight:parseFloat(m.weight),body_fat:parseFloat(m.body_fat),muscle_mass:parseFloat(m.muscle_mass),cell_age:parseFloat(m.cell_age),fat:parseFloat(m.fat),note:m.note}}catch(m){console.error(m)}};q(()=>{document.title="Member Progress Edit",g(),x()});const P=()=>{M(r.value)},U=()=>{g()};return(m,o)=>(B(),E(c,null,{default:s(()=>[l(d,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:s(()=>[D,l(i,{to:{name:"member-progress"},color:"primary"},{default:s(()=>[f(" Back ")]),_:1})]),_:1}),l(d,{cols:"12"},{default:s(()=>[l(R,null,{default:s(()=>[l(T,{onSubmit:S(P,["prevent"])},{default:s(()=>[l(c,null,{default:s(()=>[l(d,{cols:"12",md:"6"},{default:s(()=>[l(N,{modelValue:r.value.member_id,"onUpdate:modelValue":o[0]||(o[0]=t=>r.value.member_id=t),items:e(w),"item-title":"name","item-value":"id",label:"Member",required:"","error-messages":e(a)&&e(a).member_id?[e(a).member_id]:[],loading:e(F)},null,8,["modelValue","items","error-messages","loading"])]),_:1}),l(d,{cols:"12",md:"6"},{default:s(()=>[l(u,{modelValue:r.value.date,"onUpdate:modelValue":o[1]||(o[1]=t=>r.value.date=t),label:"Date",type:"date",required:"","error-messages":e(a)&&e(a).date?[e(a).date]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",md:"6"},{default:s(()=>[l(u,{modelValue:r.value.weight,"onUpdate:modelValue":o[2]||(o[2]=t=>r.value.weight=t),label:"Weight",type:"number",required:"","error-messages":e(a)&&e(a).weight?[e(a).weight]:[],placeholder:"Enter numbers only kg",suffix:"kg"},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",md:"6"},{default:s(()=>[l(u,{modelValue:r.value.body_fat,"onUpdate:modelValue":o[3]||(o[3]=t=>r.value.body_fat=t),label:"BodyFat",type:"number",required:"","error-messages":e(a)&&e(a).body_fat?[e(a).body_fat]:[],placeholder:"Enter numbers only %",suffix:"%"},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",md:"6"},{default:s(()=>[l(u,{modelValue:r.value.muscle_mass,"onUpdate:modelValue":o[4]||(o[4]=t=>r.value.muscle_mass=t),label:"Muscle Mass",type:"number",required:"","error-messages":e(a)&&e(a).muscle_mass?[e(a).muscle_mass]:[],placeholder:"Enter numbers only kg",suffix:"kg"},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",md:"6"},{default:s(()=>[l(u,{modelValue:r.value.cell_age,"onUpdate:modelValue":o[5]||(o[5]=t=>r.value.cell_age=t),label:"Cell Age",type:"number",required:"","error-messages":e(a)&&e(a).cell_age?[e(a).cell_age]:[],placeholder:"Enter numbers only"},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",md:"12"},{default:s(()=>[l(u,{modelValue:r.value.fat,"onUpdate:modelValue":o[6]||(o[6]=t=>r.value.fat=t),label:"Ficeral Fat",type:"number",required:"","error-messages":e(a)&&e(a).fat?[e(a).fat]:[],placeholder:"Enter numbers only"},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",md:"12"},{default:s(()=>[l(j,{modelValue:r.value.note,"onUpdate:modelValue":o[7]||(o[7]=t=>r.value.note=t),label:"Note",required:"","error-messages":e(a)&&e(a).note?[e(a).note]:[]},null,8,["modelValue","error-messages"])]),_:1}),l(d,{cols:"12",class:"d-flex gap-4"},{default:s(()=>[l(i,{type:"submit",loading:e(y),color:"primary"},{default:s(()=>[f(" Save ")]),_:1},8,["loading"]),l(i,{type:"reset",color:"secondary",variant:"tonal",onClick:U},{default:s(()=>[f(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{$ as default};
