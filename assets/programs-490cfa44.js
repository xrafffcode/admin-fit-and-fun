import{u as x}from"./program-45586e84.js";import{c as g}from"./permissionHelper-2b543738.js";import{f as T}from"./formatters-9852ea6e.js";import{P as B,r as y,Q as F,e as N,o as d,K as P,l as o,f as m,i as e,c as a,I as r,t as D,T as u,s as I,J as c,j as w,V as U,L as A}from"./index-31daaf16.js";import{b,d as L,e as M,a as n,V as R}from"./VRow-281e71e9.js";import{V as j}from"./VDialog-3bd3c4ef.js";import{V as _}from"./VTextField-fa88338a.js";import"./VGrid-f9b7f30a.js";import"./VOverlay-4d5b6a7d.js";import"./forwardRefs-5fcb3655.js";const z=w("h2",{class:"mb-0"}," Exercises List ",-1),Z={__name:"programs",setup(O){const C=[{text:"Nama",value:"name"},{text:"Description",value:"description",width:300},{text:"Date & Time",value:"time",width:150},{text:"Capacity Limit",value:"slot",width:150},{text:"Action",value:"operation",sortable:!1}],{programs:k,loading:V,success:s}=B(x()),{fetchPrograms:f,deleteProgram:h}=x(),i=y({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),2).toISOString().slice(0,10),end_date:new Date(new Date().getFullYear(),new Date().getMonth()+1,1).toISOString().slice(0,10)});f();async function E(v){confirm("Delete this exercise?")&&(await h(v.id),f())}const p=y("");return F(()=>{document.title="Exercises"}),(v,t)=>{const S=N("EasyDataTable");return d(),P(A,null,[o(s)?(d(),m(j,{key:0,modelValue:o(s),"onUpdate:modelValue":t[1]||(t[1]=l=>I(s)?s.value=l:null),"max-width":"400"},{default:e(()=>[a(b,null,{default:e(()=>[a(L,null,{default:e(()=>[r(D(o(s)),1)]),_:1}),a(M,null,{default:e(()=>[a(u,{color:"primary",text:"",onClick:t[0]||(t[0]=()=>s.value=null)},{default:e(()=>[r(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):c("",!0),a(R,null,{default:e(()=>[a(n,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[z,o(g)("program-create")?(d(),m(u,{key:0,to:{name:"program-create"},color:"primary"},{default:e(()=>[r(" Add Exercise ")]),_:1})):c("",!0)]),_:1}),a(n,{cols:"12",md:"4"},{default:e(()=>[a(_,{modelValue:i.value.start_date,"onUpdate:modelValue":t[2]||(t[2]=l=>i.value.start_date=l),label:"Start Date",clearable:"",variant:"solo",type:"date"},null,8,["modelValue"])]),_:1}),a(n,{cols:"12",md:"4"},{default:e(()=>[a(_,{modelValue:i.value.end_date,"onUpdate:modelValue":t[3]||(t[3]=l=>i.value.end_date=l),label:"End Date",clearable:"",variant:"solo",type:"date"},null,8,["modelValue"])]),_:1}),a(n,{cols:"12",md:"4"},{default:e(()=>[w("button",{class:"btn btn-filter",onClick:t[4]||(t[4]=l=>o(f)(i.value))},[a(U,{icon:"mdi-magnify"}),r(" Filter ")])]),_:1}),a(n,{cols:"12"},{default:e(()=>[a(_,{modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=l=>p.value=l),label:"Search Exercise",placeholder:"Search Exercise",clearable:"",loading:o(V),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(n,{cols:"12"},{default:e(()=>[a(b,null,{default:e(()=>[a(S,{headers:C,items:o(k),loading:o(V),"search-value":p.value,"buttons-pagination":"","show-index":"",class:"data-table"},{"item-time":e(l=>[r(D(o(T)(l.time)),1)]),"item-operation":e(l=>[o(g)("program-edit")?(d(),m(u,{key:0,to:{name:"program-edit",params:{id:l.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[r(" Edit ")]),_:2},1032,["to"])):c("",!0),o(g)("program-delete")?(d(),m(u,{key:1,color:"error",size:"small",class:"m-5",onClick:()=>E(l)},{default:e(()=>[r(" Delete ")]),_:2},1032,["onClick"])):c("",!0)]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{Z as default};
