import{u as _}from"./member-progress-b93a2fd9.js";import{u as V}from"./member-e189fca8.js";import{c as b}from"./permissionHelper-2b543738.js";import{a as E}from"./formatters-9852ea6e.js";import{P as v,r as x,Q as N,e as A,o as n,K as I,l as s,f as u,i as t,c as a,I as o,t as m,T as c,s as U,J as f,j as F,V as K,L as R}from"./index-31daaf16.js";import{b as w,d as j,e as z,a as d,V as O}from"./VRow-281e71e9.js";import{V as Y}from"./VDialog-3bd3c4ef.js";import{V as J}from"./VSelect-8cde19f0.js";import{V as y}from"./VTextField-fa88338a.js";import"./VGrid-f9b7f30a.js";import"./VOverlay-4d5b6a7d.js";import"./forwardRefs-5fcb3655.js";import"./VMenu-5921d0fa.js";import"./VChip-c0dd9028.js";const L=F("h2",{class:"mb-0"}," Member Progress ",-1),me={__name:"member-progress",setup(Q){const D=[{text:"Member",value:"member.name",width:200},{text:"Date",value:"date",width:150},{text:"Weight",value:"weight"},{text:"Body Fat",value:"body_fat",width:100},{text:"Muscle Mass",value:"muscle_mass",width:100},{text:"Cell Age",value:"cell_age",width:100},{text:"Ficeral Fat",value:"fat"},{text:"Note",value:"note"},{text:"Action",value:"operation",width:300}],{memberProgress:M,loading:h,success:i}=v(_()),{fetchMemberProgress:p,deleteMemberProgress:C}=_(),{members:k}=v(V()),{fetchMembers:P}=V(),r=x({member_id:"",start_date:new Date(new Date().getFullYear(),new Date().getMonth(),2).toISOString().slice(0,10),end_date:new Date(new Date().getFullYear(),new Date().getMonth()+1,1).toISOString().slice(0,10)});p(),P();async function S(g){confirm("Delete this member progress?")&&(await C(g.id),p())}const B=x("");return N(()=>{document.title="Member Progress"}),(g,l)=>{const T=A("EasyDataTable");return n(),I(R,null,[s(i)?(n(),u(Y,{key:0,modelValue:s(i),"onUpdate:modelValue":l[1]||(l[1]=e=>U(i)?i.value=e:null),"max-width":"400"},{default:t(()=>[a(w,null,{default:t(()=>[a(j,null,{default:t(()=>[o(m(s(i)),1)]),_:1}),a(z,null,{default:t(()=>[a(c,{color:"primary",text:"",onClick:l[0]||(l[0]=()=>i.value=null)},{default:t(()=>[o(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):f("",!0),a(O,null,{default:t(()=>[a(d,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:t(()=>[L,s(b)("member-progress-create")?(n(),u(c,{key:0,to:{name:"member-progress-create"},color:"primary"},{default:t(()=>[o(" Add Member Progress ")]),_:1})):f("",!0)]),_:1}),a(d,{cols:"12",md:"3"},{default:t(()=>[a(J,{modelValue:r.value.member_id,"onUpdate:modelValue":l[2]||(l[2]=e=>r.value.member_id=e),items:s(k),"item-title":"name","item-value":"id",label:"Member",clearable:"",variant:"solo"},null,8,["modelValue","items"])]),_:1}),a(d,{cols:"12",md:"3"},{default:t(()=>[a(y,{modelValue:r.value.start_date,"onUpdate:modelValue":l[3]||(l[3]=e=>r.value.start_date=e),label:"Start Date",clearable:"",variant:"solo",type:"date"},null,8,["modelValue"])]),_:1}),a(d,{cols:"12",md:"3"},{default:t(()=>[a(y,{modelValue:r.value.end_date,"onUpdate:modelValue":l[4]||(l[4]=e=>r.value.end_date=e),label:"End Date",clearable:"",variant:"solo",type:"date"},null,8,["modelValue"])]),_:1}),a(d,{cols:"12",md:"3"},{default:t(()=>[F("button",{class:"btn btn-filter",onClick:l[5]||(l[5]=e=>s(p)(r.value))},[a(K,{icon:"mdi-magnify"}),o(" Filter ")])]),_:1}),a(d,{cols:"12"},{default:t(()=>[a(w,null,{default:t(()=>[a(T,{headers:D,items:s(M),loading:s(h),"search-value":B.value,"buttons-pagination":"","show-index":"",class:"data-table"},{"item-date":t(e=>[o(m(s(E)(e.date)),1)]),"item-weight":t(e=>[o(m(parseFloat(e.weight).toFixed(2))+" Kg ",1)]),"item-body_fat":t(e=>[o(m(parseFloat(e.body_fat).toFixed(2))+" % ",1)]),"item-muscle_mass":t(e=>[o(m(parseFloat(e.muscle_mass).toFixed(2))+" Kg ",1)]),"item-cell_age":t(e=>[o(m(parseFloat(e.cell_age).toFixed(2))+" % ",1)]),"item-fat":t(e=>[o(m(parseFloat(e.fat).toFixed(2)),1)]),"item-operation":t(e=>[s(b)("member-progress-edit")?(n(),u(c,{key:0,to:{name:"member-progress-edit",params:{id:e.id}},color:"primary",size:"small",class:"m-5"},{default:t(()=>[o(" Edit ")]),_:2},1032,["to"])):f("",!0),s(b)("member-progress-delete")?(n(),u(c,{key:1,color:"error",size:"small",class:"m-5",onClick:()=>S(e)},{default:t(()=>[o(" Delete ")]),_:2},1032,["onClick"])):f("",!0)]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{me as default};
