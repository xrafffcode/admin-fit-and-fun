import{u as _}from"./goal-5d1a3b70.js";import{c as f}from"./permissionHelper-2b543738.js";import{P as w,r as D,Q as T,e as B,o as i,K as P,l,f as n,i as e,c as a,I as r,t as h,T as m,s as N,J as d,L as E,j as G}from"./index-31daaf16.js";import{b as v,d as S,e as A,a as p,V as I}from"./VRow-281e71e9.js";import{V as R}from"./VDialog-3bd3c4ef.js";import{V as j}from"./VTextField-fa88338a.js";import{a as z}from"./VGrid-f9b7f30a.js";import"./VOverlay-4d5b6a7d.js";import"./forwardRefs-5fcb3655.js";const F=G("h2",{class:"mb-0"}," Programs List ",-1),X={__name:"goals",setup(L){const x=[{text:"Image",value:"image"},{text:"Name",value:"name"},{text:"Description",value:"description",width:300},{text:"Action",value:"operation",width:300}],{goals:y,loading:g,success:s}=w(_()),{fetchGoals:V,deleteGoal:C}=_();V();async function k(c){confirm("Delete this program?")&&(await C(c.id),V())}const u=D("");return T(()=>{document.title="Programs"}),(c,o)=>{const b=B("EasyDataTable");return i(),P(E,null,[l(s)?(i(),n(R,{key:0,modelValue:l(s),"onUpdate:modelValue":o[1]||(o[1]=t=>N(s)?s.value=t:null),"max-width":"400"},{default:e(()=>[a(v,null,{default:e(()=>[a(S,null,{default:e(()=>[r(h(l(s)),1)]),_:1}),a(A,null,{default:e(()=>[a(m,{color:"primary",text:"",onClick:o[0]||(o[0]=()=>s.value=null)},{default:e(()=>[r(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):d("",!0),a(I,null,{default:e(()=>[a(p,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[F,l(f)("goal-create")?(i(),n(m,{key:0,to:{name:"goal-create"},color:"primary"},{default:e(()=>[r(" Add Program ")]),_:1})):d("",!0)]),_:1}),a(p,{cols:"12"},{default:e(()=>[a(j,{modelValue:u.value,"onUpdate:modelValue":o[2]||(o[2]=t=>u.value=t),label:"Search Program",placeholder:"Search Program",clearable:"",loading:l(g),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(p,{cols:"12"},{default:e(()=>[a(v,null,{default:e(()=>[a(b,{headers:x,items:l(y),loading:l(g),"search-value":u.value,"buttons-pagination":"","show-index":"",class:"data-table"},{"item-image":e(t=>[a(z,{src:t.image_url,width:"100",height:"100",contain:""},null,8,["src"])]),"item-time":e(t=>[r(h(c.formatDateTime(t.time)),1)]),"item-operation":e(t=>[l(f)("goal-edit")?(i(),n(m,{key:0,to:{name:"goal-edit",params:{id:t.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[r(" Edit ")]),_:2},1032,["to"])):d("",!0),l(f)("goal-delete")?(i(),n(m,{key:1,color:"error",size:"small",class:"m-5",onClick:()=>k(t)},{default:e(()=>[r(" Delete ")]),_:2},1032,["onClick"])):d("",!0)]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{X as default};
