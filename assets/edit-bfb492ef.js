import{d as x,P as C,r as I,Q as R,o as c,f as p,i as l,c as e,T as i,I as u,U as w,J as B,l as o,j as N}from"./index-31daaf16.js";import{u as f}from"./shake-7cb492a7.js";import{V as U,h as F}from"./VFileInput-60a75874.js";import{a as r,b as T,V as g}from"./VRow-281e71e9.js";import{V as D}from"./VForm-27224658.js";import{a as j}from"./VGrid-f9b7f30a.js";import{V as E}from"./VTextField-fa88338a.js";import{V as L}from"./VTextarea-42a87be7.js";import"./forwardRefs-5fcb3655.js";import"./VChip-c0dd9028.js";const M=N("h2",{class:"mb-0"}," Edit Shake ",-1),X={__name:"edit",setup(J){const _=x(),{loading:h,error:t}=C(f()),{fetchShake:V,updateShake:v}=f(),d=_.params.id,a=I({id:d,image:null,image_name:"",image_url:"",name:"",description:""}),k=async()=>{try{const s=await V(d);a.value=s,a.value.image=null,a.value.image_name=""}catch(s){console.error(s)}};R(()=>{document.title="Edit Shake",k()});const S=()=>{v(a.value)},b=s=>{F(s,a.value,"image"),a.value.image_url=URL.createObjectURL(s.target.files[0])},y=()=>{fetchshakeData()};return(s,m)=>(c(),p(g,null,{default:l(()=>[e(r,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:l(()=>[M,e(i,{to:{name:"shakes"},color:"primary"},{default:l(()=>[u(" Back ")]),_:1})]),_:1}),e(r,{cols:"12"},{default:l(()=>[e(T,null,{default:l(()=>[e(D,{onSubmit:w(S,["prevent"])},{default:l(()=>[e(g,null,{default:l(()=>[e(r,{cols:"12",md:"12"},{default:l(()=>[a.value.image_url?(c(),p(j,{key:0,src:a.value.image_url,width:"100",height:"100",alt:"Shake Image"},null,8,["src"])):B("",!0)]),_:1}),e(r,{cols:"12",md:"6"},{default:l(()=>[e(U,{modelValue:a.value.image_name,"onUpdate:modelValue":m[0]||(m[0]=n=>a.value.image_name=n),label:"Image",placeholder:"Choose Image","error-messages":o(t)&&o(t).image?[o(t).image]:[],onChange:b},null,8,["modelValue","error-messages"])]),_:1}),e(r,{cols:"12",md:"6"},{default:l(()=>[e(E,{modelValue:a.value.name,"onUpdate:modelValue":m[1]||(m[1]=n=>a.value.name=n),label:"Name",placeholder:"Shake Name","error-messages":o(t)&&o(t).name?[o(t).name]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(r,{cols:"12"},{default:l(()=>[e(L,{modelValue:a.value.description,"onUpdate:modelValue":m[2]||(m[2]=n=>a.value.description=n),label:"Description",placeholder:"Shake Description","error-messages":o(t)&&o(t).description?[o(t).description]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(r,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(i,{type:"submit",loading:o(h),color:"primary"},{default:l(()=>[u(" Save ")]),_:1},8,["loading"]),e(i,{color:"secondary",variant:"tonal",onClick:y},{default:l(()=>[u(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{X as default};
