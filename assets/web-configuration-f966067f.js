import{W,X as V,Z as I,P as B,r as D,Q as F,o as c,K as E,l as o,f,i as a,c as e,I as g,t as N,T as _,s as j,J as p,U as M,L as O}from"./index-31daaf16.js";import{V as b,h as v}from"./VFileInput-60a75874.js";import{b as C,d as P,e as A,a as i,V as y}from"./VRow-281e71e9.js";import{V as J}from"./VDialog-3bd3c4ef.js";import{V as K}from"./VForm-27224658.js";import{V as Q}from"./VTextField-fa88338a.js";import{V as X}from"./VTextarea-42a87be7.js";import{a as w}from"./VGrid-f9b7f30a.js";import"./forwardRefs-5fcb3655.js";import"./VChip-c0dd9028.js";import"./VOverlay-4d5b6a7d.js";const x=W({id:"web-configuration",state:()=>({loading:!1,error:null,success:null}),actions:{async fetchWebConfiguration(){try{return this.loading=!0,(await V.get("/web-configuration")).data.data}catch(d){this.handleError(d)}finally{this.loading=!1}},async updateWebConfiguration(d){try{this.loading=!0;const m=await V.post("/web-configuration",{...d,_method:"PUT"});this.success=m.data.message}catch(m){this.error=I(m)}finally{this.loading=!1}}}});const te={__name:"web-configuration",setup(d){const{loading:m,error:r,success:n}=B(x()),{fetchWebConfiguration:U,updateWebConfiguration:R}=x(),l=D({title:"",description:"",logo:null,logo_name:"",logo_url:"",schedule_image:null,schedule_image_name:"",schedule_image_url:""}),h=async()=>{try{const t=await U();l.value={title:t.title,description:t.description,logo:null,logo_name:"",logo_url:t.logo_url,schedule_image:null,schedule_image_name:"",schedule_image_url:t.schedule_image_url}}catch(t){console.error(t)}};F(()=>{document.title="Web Configuration",h()});const S=()=>{R(l.value)},T=t=>{v(t,l.value,"logo"),l.value.logo_url=URL.createObjectURL(t.target.files[0])},k=t=>{v(t,l.value,"schedule_image"),l.value.schedule_image_url=URL.createObjectURL(t.target.files[0])},L=()=>{h()};return(t,s)=>(c(),E(O,null,[o(n)?(c(),f(J,{key:0,modelValue:o(n),"onUpdate:modelValue":s[1]||(s[1]=u=>j(n)?n.value=u:null),"max-width":"400"},{default:a(()=>[e(C,null,{default:a(()=>[e(P,null,{default:a(()=>[g(N(o(n)),1)]),_:1}),e(A,null,{default:a(()=>[e(_,{color:"primary",text:"",onClick:s[0]||(s[0]=()=>n.value=null)},{default:a(()=>[g(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):p("",!0),e(y,null,{default:a(()=>[e(i,{cols:"12"},{default:a(()=>[e(C,null,{default:a(()=>[e(K,{onSubmit:M(S,["prevent"])},{default:a(()=>[e(y,null,{default:a(()=>[e(i,{cols:"12",md:"12"},{default:a(()=>[e(Q,{modelValue:l.value.title,"onUpdate:modelValue":s[2]||(s[2]=u=>l.value.title=u),label:"Title",placeholder:"Title","error-messages":o(r)&&o(r).title?[o(r).title]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",md:"12"},{default:a(()=>[e(X,{modelValue:l.value.description,"onUpdate:modelValue":s[3]||(s[3]=u=>l.value.description=u),label:"Description",placeholder:"Description","error-messages":o(r)&&o(r).description?[o(r).description]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",md:"12"},{default:a(()=>[l.value.logo_url?(c(),f(w,{key:0,src:l.value.logo_url,width:"100",height:"auto",class:"mb-4"},null,8,["src"])):p("",!0),e(b,{modelValue:l.value.logo,"onUpdate:modelValue":s[4]||(s[4]=u=>l.value.logo=u),label:"Logo",placeholder:"Logo","error-messages":o(r)&&o(r).logo?[o(r).logo]:[],onChange:T},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",md:"12"},{default:a(()=>[l.value.schedule_image_url?(c(),f(w,{key:0,src:l.value.schedule_image_url,width:"100",height:"auto",class:"mb-4"},null,8,["src"])):p("",!0),e(b,{modelValue:l.value.schedule_image,"onUpdate:modelValue":s[5]||(s[5]=u=>l.value.schedule_image=u),label:"Schedule Image",placeholder:"Schedule Image","error-messages":o(r)&&o(r).schedule_image?[o(r).schedule_image]:[],onChange:k},null,8,["modelValue","error-messages"])]),_:1}),e(i,{cols:"12",class:"d-flex gap-4"},{default:a(()=>[e(_,{type:"submit",loading:o(m),color:"primary"},{default:a(()=>[g(" Save ")]),_:1},8,["loading"]),e(_,{type:"reset",color:"secondary",variant:"tonal",onClick:L},{default:a(()=>[g(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{te as default};
