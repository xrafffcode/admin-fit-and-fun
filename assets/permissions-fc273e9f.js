import{u as h}from"./permission-24160dbe.js";import{c}from"./permissionHelper-2b543738.js";import{P,r as b,Q as w,e as D,o as i,K as T,l as s,f as n,i as e,c as a,I as r,t as B,T as m,s as N,J as d,L as E,j as S}from"./index-31daaf16.js";import{b as x,d as A,e as R,a as p,V as j}from"./VRow-281e71e9.js";import{V as z}from"./VDialog-3bd3c4ef.js";import{V as F}from"./VTextField-fa88338a.js";import"./VGrid-f9b7f30a.js";import"./VOverlay-4d5b6a7d.js";import"./forwardRefs-5fcb3655.js";const L=S("h2",{class:"mb-0"}," Permissions List ",-1),W={__name:"permissions",setup(U){const y=[{text:"Name",value:"name"},{text:"Action",value:"operation",width:300}],{permissions:v,loading:f,success:t}=P(h()),{fetchPermissions:V,deletePermission:C}=h();V();async function g(_){confirm("Delete this permission?")&&(await C(_.id),V())}const u=b("");return w(()=>{document.title="Permissions"}),(_,o)=>{const k=D("EasyDataTable");return i(),T(E,null,[s(t)?(i(),n(z,{key:0,modelValue:s(t),"onUpdate:modelValue":o[1]||(o[1]=l=>N(t)?t.value=l:null),"max-width":"400"},{default:e(()=>[a(x,null,{default:e(()=>[a(A,null,{default:e(()=>[r(B(s(t)),1)]),_:1}),a(R,null,{default:e(()=>[a(m,{color:"primary",text:"",onClick:o[0]||(o[0]=()=>t.value=null)},{default:e(()=>[r(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):d("",!0),a(j,null,{default:e(()=>[a(p,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[L,s(c)("permission-create")?(i(),n(m,{key:0,to:{name:"permission-create"},color:"primary"},{default:e(()=>[r(" Add Permission ")]),_:1})):d("",!0)]),_:1}),a(p,{cols:"12"},{default:e(()=>[a(F,{modelValue:u.value,"onUpdate:modelValue":o[2]||(o[2]=l=>u.value=l),label:"Search Permission",placeholder:"Search Permission",clearable:"",loading:s(f),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(p,{cols:"12"},{default:e(()=>[a(x,null,{default:e(()=>[a(k,{headers:y,items:s(v),loading:s(f),"search-value":u.value,"buttons-pagination":"","show-index":"",class:"data-table"},{"item-operation":e(l=>[s(c)("permission-edit")?(i(),n(m,{key:0,to:{name:"permission-edit",params:{id:l.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[r(" Edit ")]),_:2},1032,["to"])):d("",!0),s(c)("permission-delete")?(i(),n(m,{key:1,color:"error",size:"small",class:"m-5",onClick:()=>g(l)},{default:e(()=>[r(" Delete ")]),_:2},1032,["onClick"])):d("",!0)]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{W as default};
