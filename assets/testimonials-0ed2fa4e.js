import{u as T}from"./testimonial-97118f7c.js";import{c as f}from"./permissionHelper-2b543738.js";import{P as k,r as w,Q as D,e as B,o as n,K as N,l,f as r,i as e,c as t,I as i,t as g,T as m,s as A,J as d,L as E,j as S}from"./index-31daaf16.js";import{b as h,d as j,e as R,a as p,V as z}from"./VRow-281e71e9.js";import{V as F}from"./VDialog-3bd3c4ef.js";import{V as I}from"./VTextField-fa88338a.js";import{a as J}from"./VGrid-f9b7f30a.js";import"./VOverlay-4d5b6a7d.js";import"./forwardRefs-5fcb3655.js";const L=S("h2",{class:"mb-0"}," Testimonial List ",-1),X={__name:"testimonials",setup(U){const v=[{text:"Avatar",value:"image"},{text:"Name",value:"name"},{text:"Job",value:"job"},{text:"Testimoni",value:"testimonial"},{text:"Action",value:"operation",width:300}],{testimonials:x,loading:V,success:s}=k(T()),{fetchTestimonials:_,deleteTestimonial:y}=T();_();async function b(c){confirm("Delete this testimoni?")&&(await y(c.id),_())}const u=w("");return D(()=>{document.title="Testimonis"}),(c,o)=>{const C=B("EasyDataTable");return n(),N(E,null,[l(s)?(n(),r(F,{key:0,modelValue:l(s),"onUpdate:modelValue":o[1]||(o[1]=a=>A(s)?s.value=a:null),"max-width":"400"},{default:e(()=>[t(h,null,{default:e(()=>[t(j,null,{default:e(()=>[i(g(l(s)),1)]),_:1}),t(R,null,{default:e(()=>[t(m,{color:"primary",text:"",onClick:o[0]||(o[0]=()=>s.value=null)},{default:e(()=>[i(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):d("",!0),t(z,null,{default:e(()=>[t(p,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[L,l(f)("testimonial-create")?(n(),r(m,{key:0,to:{name:"testimonial-create"},color:"primary"},{default:e(()=>[i(" Add Testimonial ")]),_:1})):d("",!0)]),_:1}),t(p,{cols:"12"},{default:e(()=>[t(I,{modelValue:u.value,"onUpdate:modelValue":o[2]||(o[2]=a=>u.value=a),label:"Search Testimoni",placeholder:"Search Testimoni",clearable:"",loading:l(V),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),t(p,{cols:"12"},{default:e(()=>[t(h,null,{default:e(()=>[t(C,{headers:v,items:l(x),loading:l(V),"search-value":u.value,"buttons-pagination":"","show-index":"",class:"data-table"},{"item-image":e(a=>[t(J,{src:a.image_url,width:"100",height:"100",contain:""},null,8,["src"])]),"item-time":e(a=>[i(g(c.formatDateTime(a.time)),1)]),"item-operation":e(a=>[l(f)("testimonial-edit")?(n(),r(m,{key:0,to:{name:"testimonial-edit",params:{id:a.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[i(" Edit ")]),_:2},1032,["to"])):d("",!0),l(f)("testimonial-delete")?(n(),r(m,{key:1,color:"error",size:"small",class:"m-5",onClick:()=>b(a)},{default:e(()=>[i(" Delete ")]),_:2},1032,["onClick"])):d("",!0)]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{X as default};
