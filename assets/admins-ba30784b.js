import{u as x}from"./admin-fda973f8.js";import{c}from"./permissionHelper-2b543738.js";import{P as k,r as b,Q as w,e as D,o as n,K as T,l as t,f as d,i as e,c as a,I as i,t as B,T as r,s as E,J as m,L as N,j as S}from"./index-31daaf16.js";import{b as h,d as R,e as j,a as f,V as z}from"./VRow-281e71e9.js";import{V as F}from"./VDialog-3bd3c4ef.js";import{V as L}from"./VTextField-fa88338a.js";import"./VGrid-f9b7f30a.js";import"./VOverlay-4d5b6a7d.js";import"./forwardRefs-5fcb3655.js";const U=S("h2",{class:"mb-0"}," Admins List ",-1),W={__name:"admins",setup(I){const v=[{text:"Name",value:"name"},{text:"Email",value:"user.email"},{text:"Action",value:"operation",width:300}],{admins:y,loading:p,success:o}=k(x()),{fetchAdmins:V,deleteAdmin:A}=x();V();async function C(_){confirm("Delete this admin?")&&(await A(_.id),V())}const u=b("");return w(()=>{document.title="Admins"}),(_,l)=>{const g=D("EasyDataTable");return n(),T(N,null,[t(o)?(n(),d(F,{key:0,modelValue:t(o),"onUpdate:modelValue":l[1]||(l[1]=s=>E(o)?o.value=s:null),"max-width":"400"},{default:e(()=>[a(h,null,{default:e(()=>[a(R,null,{default:e(()=>[i(B(t(o)),1)]),_:1}),a(j,null,{default:e(()=>[a(r,{color:"primary",text:"",onClick:l[0]||(l[0]=()=>o.value=null)},{default:e(()=>[i(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):m("",!0),a(z,null,{default:e(()=>[a(f,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[U,t(c)("admin-create")?(n(),d(r,{key:0,to:{name:"admin-create"},color:"primary"},{default:e(()=>[i(" Add Admin ")]),_:1})):m("",!0)]),_:1}),a(f,{cols:"12"},{default:e(()=>[a(L,{modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=s=>u.value=s),label:"Search Admin",placeholder:"Search Admin",clearable:"",loading:t(p),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(f,{cols:"12"},{default:e(()=>[a(h,null,{default:e(()=>[a(g,{headers:v,items:t(y),loading:t(p),"search-value":u.value,"buttons-pagination":"","show-index":"",class:"data-table"},{"item-operation":e(s=>[t(c)("admin-edit")?(n(),d(r,{key:0,to:{name:"admin-edit",params:{id:s.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[i(" Edit ")]),_:2},1032,["to"])):m("",!0),t(c)("admin-delete")?(n(),d(r,{key:1,color:"error",size:"small",class:"m-5",onClick:()=>C(s)},{default:e(()=>[i(" Delete ")]),_:2},1032,["onClick"])):m("",!0)]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{W as default};
